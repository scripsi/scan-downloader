</div>
<div id="content-row2">
<iframe src="" id="ViewerFrame"></iframe>
</div>
</div>
<script id="FileListManager">

  const pdfViewerURL = "assets/pdfjs/web/basic-viewer.html?file=%2F"; 

  var fileSelect = document.getElementById('FileList');
  var viewerFrame = document.getElementById('ViewerFrame');
  
  var fileNames = Array();

  function readFileNames() {
    var fileListItems = document.getElementsByTagName('ul')[0].getElementsByTagName('li');
    for (let i = 0; i <= fileListItems.length - 1; i++) {
      var filePath = fileListItems[i].getElementsByTagName('a')[0].href;
      var fileParts = filePath.split('/');
      var fileName = fileParts.pop();
      fileNames.push(fileName);
    }
    fileNames.sort();  	
  }
  
  function updateFileSelect() {
    for (let i = 0; i < fileNames.length; i++) {
  	  var opt = document.createElement('option');
  	  opt.text = fileNames[i];
  	  opt.value = fileNames[i];
  	  fileSelect.add(opt);
    }
    fileSelect.options[0].selected = true;
  }

  function updateViewer() {
  	newFile = fileSelect.value;
  	fileParts = newFile.split('.');
  	fileExt = fileParts.pop();
  	if (fileExt.toLowerCase() == "pdf") {
  	  newURL = pdfViewerURL + newFile;
  	  viewerFrame.src = newURL;
  	}
  }

  fileSelect.onchange = updateViewer;

  readFileNames();
  updateFileSelect();
  updateViewer();

</script>
